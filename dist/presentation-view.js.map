{"version":3,"sources":["webpack://presentation-view/webpack/universalModuleDefinition","webpack://presentation-view/webpack/bootstrap","webpack://presentation-view/external {\"commonjs\":\"next-core-utilities\",\"commonjs2\":\"next-core-utilities\",\"amd\":\"next-core-utilities\",\"root\":\"next-core-utilities\"}","webpack://presentation-view/./src/index.js","webpack://presentation-view/./src/view.js","webpack://presentation-view/./src/abstractView.js","webpack://presentation-view/external {\"commonjs\":\"next-core-object\",\"commonjs2\":\"next-core-object\",\"amd\":\"next-core-object\",\"root\":\"next-core-object\"}","webpack://presentation-view/external {\"commonjs\":\"lodash.bind\",\"commonjs2\":\"lodash.bind\",\"amd\":\"lodash.bind\",\"root\":\"lodash.bind\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","View","AbstractView","constructor","options","super","render","_el","template","el","isString","document","querySelector","innerHTML","remove","undelegateEvents","off","stopListening","_bind","DELEGATE_EVENT_SPLITTER","AugmentedObject","_name","permissions","_permissions","include","exclude","tagName","model","collection","id","className","_style","style","attributes","cid","uniqueId","noEL","_ensureElement","initialize","init","beforeRender","afterRender","_removeElement","setElement","element","delegateEvents","events","result","method","isFunction","match","delegate","eventName","selector","listener","matchesNL","querySelectorAll","matches","Array","from","length","addEventListener","new_el","cloneNode","parentNode","replaceChild","undelegate","removeEventListener","_createElement","createElement","attrs","extend","body","appendChild","_setAttributes","setAttribute","addPermission","permission","negative","isArray","push","removePermission","splice","indexOf","clearPermissions","matchesPermission","canDisplay"],"mappings":"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","file":"presentation-view.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-utilities\"), require(\"next-core-object\"), require(\"lodash.bind\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-view\", [\"next-core-utilities\", \"next-core-object\", \"lodash.bind\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-view\"] = factory(require(\"next-core-utilities\"), require(\"next-core-object\"), require(\"lodash.bind\"));\n\telse\n\t\troot[\"presentation-view\"] = factory(root[\"next-core-utilities\"], root[\"next-core-object\"], root[\"lodash.bind\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import View from \"./view.js\";\n\nmodule.exports.View = View;\n","import AbstractView from \"./abstractView.js\";\nimport { isString } from \"next-core-utilities\";\n\n/**\n * View - the base view for handlng display in the MV* Concept\n * @extends Presentation.AbstractView\n */\nclass View extends AbstractView {\n  constructor(options) {\n    super(options);\n  };\n\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    if (this._el && this.template) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = this.template;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Remove the view and all binds\n   */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n    if (this._el) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = \"\";\n      }\n    }\n    return this;\n  };\n};\n\nexport default View;\n","import { AugmentedObject } from \"next-core-object\";\nimport { uniqueId, isString, result, isFunction, extend } from \"next-core-utilities\";\nconst _bind = require(\"lodash.bind\");\n\n// Cached regex to split keys for `delegate`.\nconst DELEGATE_EVENT_SPLITTER = /^(\\S+)\\s*(.*)$/;\n\n/**\n * Aubstract View - the base view for handlng display in the MV* Concept\n * @extends AugmentedObject\n */\nclass AbstractView extends AugmentedObject {\n  constructor(options) {\n    super(options);\n    //console.debug(`options on AbstractView ${JSON.stringify(options)}`);\n    if (options && options.name) {\n      this._name = options.name;\n    } else {\n      this._name = \"Untitled\";\n    }\n    if (options && options.permissions) {\n      this._permissions = options.permissions;\n    } else {\n      this._permissions = {\n        include: [],\n        exclude: []\n      };\n    }\n    if (options && options.tagName) {\n      this.tagName = options.tagName;\n    } else {\n      this.tagName = \"div\";\n    }\n    if (options && options.el) {\n      this._el = options.el;\n    } else {\n      this._el = \"\";\n    }\n\n    if (options && options.model) {\n      this.model = options.model;\n    } else {\n      this.model = null;\n    }\n\n    if (options && options.collection) {\n      this.collection = options.collection;\n    } else {\n      this.collection = null;\n    }\n\n    if (options && options.id) {\n      this.id = options.id;\n    } else {\n      this.id = 0;\n    }\n\n    if (options && options.className) {\n      this._style = options.className;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.style) {\n      this._style = options.style;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.attributes) {\n      this.attributes = options.attributes;\n    } else {\n      this.attributes = {};\n    }\n\n    this.cid = uniqueId(\"view\");\n\n    if (options && options.noEL) {\n      // This is for Mediator\n    } else {\n      this._ensureElement();\n    }\n\n    /*this.render = Augmented.Utility.wrap(this.render, (render) => {\n      this.beforeRender();\n      render.apply(this);\n      this.afterRender();\n      return this;\n    });*/\n    if (options && options.template) {\n      this.template = options.template;\n    } else {\n      this.template = \"\";\n    }\n    this.initialize(options);\n  };\n\n  /**\n   * The name property of the view\n   * @property {string} name The Name of the view\n   * @private\n   */\n\n  /**\n   * Permissions in the view\n   * @property permissions\n   * @private\n   */\n\n   /**\n    * The element bound\n    * @property el\n    */\n   get el() {\n     return this._el;\n   };\n\n   set el(el) {\n     this._el = el;\n   };\n\n  /**\n   * Custom initialize - Override for custom code\n   * @param {object} options Optional options to pass to the view\n   */\n  init(options) {\n  };\n  /**\n   * Initializes the view - <em>Note: Do not override, use init instead!</em>\n   * @param {object} options Optional options to pass to the view\n   * @returns {View} Returns 'this,' as in, this view context\n   */\n  initialize(options) {\n    this.options = options;\n    this.init(options);\n    return this;\n  };\n  /**\n   * Before Render callback for the view\n   * @returns this Context of the view\n   * @deprecated\n   */\n  beforeRender() {\n    return this;\n  };\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    return this;\n  };\n  /**\n   * After Render callback for the view\n   * @returns this Context of the view\n   * @deprecated\n   */\n  afterRender() {\n    return this;\n  };\n\n  /**\n   * Remove this view by taking the element out of the DOM, and removing any\n   * applicable Events listeners.\n   */\n  remove() {\n    this._removeElement();\n    this.stopListening();\n    return this;\n  };\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement() {\n    let el = this._el;\n    if (this._el && isString(this._el)) {\n      el = document.querySelector(this._el);\n    }\n    if (el) {\n      el.innerHTML = \"\";\n    }\n  };\n\n  /**\n   * Change the view's element (`this.el` property) and re-delegate the\n   * view's events on the new element.\n   */\n  setElement(element) {\n    //console.log(\"setting element\", element);\n    this.undelegateEvents();\n    this._el = element;\n    this.delegateEvents();\n    return this;\n  };\n\n  /**\n   * Creates the `this.el` and `this.$el` references for this view using the\n   * given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n   * context or an element. Subclasses can override this to utilize an\n   * alternative DOM manipulation API and are only required to set the\n   * `this.el` property.\n   *\n   * Set callbacks, where `this.events` is a hash of\n   * pairs. Callbacks will be bound to the view, with `this` set properly.\n   * Uses event delegation for efficiency.\n   * Omitting the selector binds the event to `this._el`.\n   * @example\n   * {\"event selector\": \"callback\"}\n   * @example\n   * {\n   *   'mousedown .title':  'edit',\n   *   'click .button':     'save',\n   *   'click .open':       (e) => { ... }\n   * }\n   */\n  delegateEvents(events) {\n    events || (events = result(this, \"events\"));\n    if (!events) {\n      return this;\n    }\n    this.undelegateEvents();\n    let key;\n    for (key in events) {\n      let method = events[key];\n      if (!isFunction(method)) {\n        method = this[method];\n      }\n      if (!method) {\n        continue;\n      }\n      const match = key.match(DELEGATE_EVENT_SPLITTER);\n      this.delegate(match[1], match[2], _bind(method, this));\n    }\n    return this;\n  };\n\n  /**\n   * Add a single event listener to the view's element (or a child element\n   * using `selector`). This only works for delegate-able events: not `focus`,\n   * `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n   */\n  delegate(eventName, selector, listener) {\n    const matchesNL = document.querySelectorAll(selector);\n    if (matchesNL) {\n      const matches = Array.from(matchesNL);\n      let i = 0;\n      const l = matches.length;\n      for (i = 0; i < l; i++) {\n        ////console.log(\"match\", matches[i]);\n        matches[i].addEventListener(eventName, listener);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Clears all callbacks previously bound to the view by `delegateEvents`.\n   * You usually don't need to use this, but may wish to if you have multiple\n   * views attached to the same DOM element.\n   */\n  undelegateEvents() {\n    ////console.log(\"undelegateEvents\");\n    if (this._el) {\n      ////console.log(\"undelegateEvents el\", this._el);\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        ////console.log(\"undelegateEvents selected el\", el);\n        const new_el = el.cloneNode(true); //true means a deep copy\n\n        //console.log(\"undelegateEvents cloned el\", new_el);\n        if (new_el && new_el.parentNode) {\n          //console.log(\"undelegateEvents parent el\", new_el.parentNode);\n          el.parentNode.replaceChild(new_el, el);\n          //console.log(\"undelegateEvents replaced el\");\n        }\n      }\n      //this._el.removeEventListener(`.delegateEvents${this.cid}`);\n    }\n    return this;\n  };\n\n  /**\n   * A finer-grained `undelegateEvents` for removing a single delegated event.\n   * `selector` and `listener` are both optional.\n   */\n  undelegate(eventName, selector, listener) {\n    if (this._el) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        const matchesNL = el.querySelectorAll(selector);\n        if (matchesNL) {\n          const matches = Array.from(matchesNL);\n          let i = 0;\n          const l = matches.length;\n\n          for (i = 0; i < l; i++) {\n            ////console.log(\"match\", matches[i]);\n            matches[i].removeEventListener(eventName, listener);\n          }\n        }\n      }\n\n      //for (i = 0; i < l; i++) {\n      //  matches[i].removeEventListener(`${eventName}.delegateEvents${this.cid}`, listener);\n      //}\n    }\n    //this._el.removeEventListener(`${eventName}.delegateEvents${this.cid}`, selector, listener);\n    return this;\n  };\n\n  // Produces a DOM element to be assigned to your view. Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _createElement(tagName) {\n    return document.createElement(tagName);\n  };\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through querySelector, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `style` and `tagName` properties.\n  _ensureElement() {\n    if (!this._el) {\n      const attrs = extend({}, result(this, \"attributes\"));\n      if (this.id) {\n        attrs.id = this.id;\n      }\n      if (this._style) {\n        attrs[\"class\"] = this._style;\n      }\n      const el = this._createElement(this.tagName);\n      const body = document.querySelector(\"body\");\n      if (body) {\n        //console.debug(\"creating element \" + this.tagName + \" on body.\")\n        body.appendChild(el);\n      }\n      if (el) {\n        this.setElement(el);\n      }\n      this._setAttributes(attrs);\n    } else {\n      this.setElement(this._el);\n    }\n  };\n\n  // Set attributes from a hash on this view's element.  Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _setAttributes(attributes) {\n    let key;\n    for(key in attributes) {\n      if (this._el) {\n        let el = this._el;\n        if (isString(this._el)) {\n          el = document.querySelector(this._el);\n        }\n        if (el) {\n          el.setAttribute(key, attributes[key]);\n        }\n      }\n    }\n  };\n\n  /**\n  * The name of the view\n  * @property name The name of the view\n  */\n  set name(name) {\n    this._name = name;\n  };\n\n  get name() {\n    return this._name;\n  };\n\n  /**\n   * Adds a permission to the view\n   * @param {string} permission The permission to add\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   */\n  addPermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.push(permission);\n    }\n  };\n  /**\n   * Removes a permission to the view\n   * @param {string} permission The permission to remove\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   */\n  removePermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.splice((p.indexOf(permission)), 1);\n    }\n  };\n  /**\n   * Sets the permissions to the view\n   * @param {array} permissions The permissions to set\n   * @param {boolean} negative Flag to set a negative permission (optional)\n   */\n  set permissions(permissions) {\n    /*if (!negative) {\n      negative = false;\n    }\n    if (permissions !== null && Array.isArray(permissions)) {\n      if (negative) {\n        this._permissions.exclude = permissions;\n      } else {\n        this._permissions.include = permissions;\n      }\n    }*/\n    this._permissions = permissions;\n  };\n\n\n  /**\n   * The permissions to the view<br/>\n   * Return format:<br/>\n   * <pre>{\n   *     include: [],\n   *     exclude: []\n   * }</pre>\n   *\n   * @property {object} permissions\n   */\n  get permissions() {\n    return this._permissions;\n  };\n  /**\n   * Clears the permissions in the view\n   */\n  clearPermissions() {\n    this._permissions = {\n      include: [],\n      exclude: []\n    };\n  };\n  /**\n   * Matches a permission in the view\n   * @param {string} match The permissions to match\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   * @returns {boolean} Returns true if the match exists\n   */\n  matchesPermission(match, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    const p = (negative) ? this._permissions.exclude : this._permissions.include;\n    return (p.indexOf(match) !== -1);\n  };\n  /**\n   * Callback to return if this view can display\n   * @returns {boolean} Returns true if this view can display\n   */\n  canDisplay() {\n    return true;\n  };\n};\n\nexport default AbstractView;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;"],"sourceRoot":""}