{"version":3,"sources":["webpack://presentation-view/webpack/universalModuleDefinition","webpack://presentation-view/webpack/bootstrap","webpack://presentation-view/external {\"commonjs\":\"next-core-utilities\",\"commonjs2\":\"next-core-utilities\",\"amd\":\"next-core-utilities\",\"root\":\"next-core-utilities\"}","webpack://presentation-view/./src/index.js","webpack://presentation-view/./src/view.js","webpack://presentation-view/./src/abstractView.js","webpack://presentation-view/external {\"commonjs\":\"next-core-object\",\"commonjs2\":\"next-core-object\",\"amd\":\"next-core-object\",\"root\":\"next-core-object\"}","webpack://presentation-view/external {\"commonjs\":\"lodash.bind\",\"commonjs2\":\"lodash.bind\",\"amd\":\"lodash.bind\",\"root\":\"lodash.bind\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_view","View","_abstractView","_nextCoreUtilities","AbstractView","default","constructor","super","options","render","_el","template","el","isString","document","remove","undelegateEvents","off","stopListening","_nextCoreObject","_bind","DELEGATE_EVENT_SPLITTER","AugmentedObject","_name","permissions","_permissions","include","exclude","tagName","model","collection","id","className","_style","style","attributes","cid","uniqueId","noEL","_ensureElement","initialize","init","beforeRender","afterRender","_removeElement","setElement","element","delegateEvents","events","result","method","isFunction","match","delegate","matchesNL","selector","matches","Array","length","new_el","parentNode","undelegate","_createElement","attrs","extend","body","_setAttributes","addPermission","negative","permission","removePermission","clearPermissions","matchesPermission","canDisplay"],"mappings":"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","file":"presentation-view.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-utilities\"), require(\"next-core-object\"), require(\"lodash.bind\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-view\", [\"next-core-utilities\", \"next-core-object\", \"lodash.bind\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-view\"] = factory(require(\"next-core-utilities\"), require(\"next-core-object\"), require(\"lodash.bind\"));\n\telse\n\t\troot[\"presentation-view\"] = factory(root[\"next-core-utilities\"], root[\"next-core-object\"], root[\"lodash.bind\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import View from \"./view.js\";\n\nmodule.exports.View = View;\n","import AbstractView from \"./abstractView.js\";\nimport { isString } from \"next-core-utilities\";\n\n/**\n * View - the base view for handlng display in the MV* Concept\n * @extends Presentation.AbstractView\n */\nclass View extends AbstractView {\n  constructor(options) {\n    super(options);\n  };\n\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    if (this._el && this.template) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = this.template;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Remove the view and all binds\n   */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n    if (this._el) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = \"\";\n      }\n    }\n    return this;\n  };\n};\n\nexport default View;\n","import { AugmentedObject } from \"next-core-object\";\nimport { uniqueId, isString, result, isFunction, extend } from \"next-core-utilities\";\nconst _bind = require(\"lodash.bind\");\n\n// Cached regex to split keys for `delegate`.\nconst DELEGATE_EVENT_SPLITTER = /^(\\S+)\\s*(.*)$/;\n\n/**\n * Aubstract View - the base view for handlng display in the MV* Concept\n * @extends AugmentedObject\n */\nclass AbstractView extends AugmentedObject {\n  constructor(options) {\n    super(options);\n    //console.debug(`options on AbstractView ${JSON.stringify(options)}`);\n    if (options && options.name) {\n      this._name = options.name;\n    } else {\n      this._name = \"Untitled\";\n    }\n    if (options && options.permissions) {\n      this._permissions = options.permissions;\n    } else {\n      this._permissions = {\n        include: [],\n        exclude: []\n      };\n    }\n    if (options && options.tagName) {\n      this.tagName = options.tagName;\n    } else {\n      this.tagName = \"div\";\n    }\n    if (options && options.el) {\n      this._el = options.el;\n    } else {\n      this._el = \"\";\n    }\n\n    if (options && options.model) {\n      this.model = options.model;\n    } else {\n      this.model = null;\n    }\n\n    if (options && options.collection) {\n      this.collection = options.collection;\n    } else {\n      this.collection = null;\n    }\n\n    if (options && options.id) {\n      this.id = options.id;\n    } else {\n      this.id = 0;\n    }\n\n    if (options && options.className) {\n      this._style = options.className;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.style) {\n      this._style = options.style;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.attributes) {\n      this.attributes = options.attributes;\n    } else {\n      this.attributes = {};\n    }\n\n    this.cid = uniqueId(\"view\");\n\n    if (options && options.noEL) {\n      // This is for Mediator\n    } else {\n      this._ensureElement();\n    }\n\n    /*this.render = Augmented.Utility.wrap(this.render, (render) => {\n      this.beforeRender();\n      render.apply(this);\n      this.afterRender();\n      return this;\n    });*/\n    if (options && options.template) {\n      this.template = options.template;\n    } else {\n      this.template = \"\";\n    }\n    this.initialize(options);\n  };\n\n  /**\n   * The name property of the view\n   * @property {string} name The Name of the view\n   * @private\n   */\n\n  /**\n   * Permissions in the view\n   * @property permissions\n   * @private\n   */\n\n   /**\n    * The element bound\n    * @property el\n    */\n   get el() {\n     return this._el;\n   };\n\n   set el(el) {\n     this._el = el;\n   };\n\n  /**\n   * Custom initialize - Override for custom code\n   * @param {object} options Optional options to pass to the view\n   */\n  init(options) {\n  };\n  /**\n   * Initializes the view - <em>Note: Do not override, use init instead!</em>\n   * @param {object} options Optional options to pass to the view\n   * @returns {View} Returns 'this,' as in, this view context\n   */\n  initialize(options) {\n    this.options = options;\n    this.init(options);\n    return this;\n  };\n  /**\n   * Before Render callback for the view\n   * @returns this Context of the view\n   * @deprecated\n   */\n  beforeRender() {\n    return this;\n  };\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    return this;\n  };\n  /**\n   * After Render callback for the view\n   * @returns this Context of the view\n   * @deprecated\n   */\n  afterRender() {\n    return this;\n  };\n\n  /**\n   * Remove this view by taking the element out of the DOM, and removing any\n   * applicable Events listeners.\n   */\n  remove() {\n    this._removeElement();\n    this.stopListening();\n    return this;\n  };\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement() {\n    let el = this._el;\n    if (this._el && isString(this._el)) {\n      el = document.querySelector(this._el);\n    }\n    if (el) {\n      el.innerHTML = \"\";\n    }\n  };\n\n  /**\n   * Change the view's element (`this.el` property) and re-delegate the\n   * view's events on the new element.\n   */\n  setElement(element) {\n    //console.log(\"setting element\", element);\n    this.undelegateEvents();\n    this._el = element;\n    this.delegateEvents();\n    return this;\n  };\n\n  /**\n   * Creates the `this.el` and `this.$el` references for this view using the\n   * given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n   * context or an element. Subclasses can override this to utilize an\n   * alternative DOM manipulation API and are only required to set the\n   * `this.el` property.\n   *\n   * Set callbacks, where `this.events` is a hash of\n   * pairs. Callbacks will be bound to the view, with `this` set properly.\n   * Uses event delegation for efficiency.\n   * Omitting the selector binds the event to `this._el`.\n   * @example\n   * {\"event selector\": \"callback\"}\n   * @example\n   * {\n   *   'mousedown .title':  'edit',\n   *   'click .button':     'save',\n   *   'click .open':       (e) => { ... }\n   * }\n   */\n  delegateEvents(events) {\n    events || (events = result(this, \"events\"));\n    if (!events) {\n      return this;\n    }\n    this.undelegateEvents();\n    let key;\n    for (key in events) {\n      let method = events[key];\n      if (!isFunction(method)) {\n        method = this[method];\n      }\n      if (!method) {\n        continue;\n      }\n      const match = key.match(DELEGATE_EVENT_SPLITTER);\n      this.delegate(match[1], match[2], _bind(method, this));\n    }\n    return this;\n  };\n\n  /**\n   * Add a single event listener to the view's element (or a child element\n   * using `selector`). This only works for delegate-able events: not `focus`,\n   * `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n   */\n  delegate(eventName, selector, listener) {\n    const matchesNL = document.querySelectorAll(selector);\n    if (matchesNL) {\n      const matches = Array.from(matchesNL);\n      let i = 0;\n      const l = matches.length;\n      for (i = 0; i < l; i++) {\n        ////console.log(\"match\", matches[i]);\n        matches[i].addEventListener(eventName, listener);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Clears all callbacks previously bound to the view by `delegateEvents`.\n   * You usually don't need to use this, but may wish to if you have multiple\n   * views attached to the same DOM element.\n   */\n  undelegateEvents() {\n    ////console.log(\"undelegateEvents\");\n    if (this._el) {\n      ////console.log(\"undelegateEvents el\", this._el);\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        ////console.log(\"undelegateEvents selected el\", el);\n        const new_el = el.cloneNode(true); //true means a deep copy\n\n        //console.log(\"undelegateEvents cloned el\", new_el);\n        if (new_el && new_el.parentNode) {\n          //console.log(\"undelegateEvents parent el\", new_el.parentNode);\n          el.parentNode.replaceChild(new_el, el);\n          //console.log(\"undelegateEvents replaced el\");\n        }\n      }\n      //this._el.removeEventListener(`.delegateEvents${this.cid}`);\n    }\n    return this;\n  };\n\n  /**\n   * A finer-grained `undelegateEvents` for removing a single delegated event.\n   * `selector` and `listener` are both optional.\n   */\n  undelegate(eventName, selector, listener) {\n    if (this._el) {\n      let el = this._el;\n      if (isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        const matchesNL = el.querySelectorAll(selector);\n        if (matchesNL) {\n          const matches = Array.from(matchesNL);\n          let i = 0;\n          const l = matches.length;\n\n          for (i = 0; i < l; i++) {\n            ////console.log(\"match\", matches[i]);\n            matches[i].removeEventListener(eventName, listener);\n          }\n        }\n      }\n\n      //for (i = 0; i < l; i++) {\n      //  matches[i].removeEventListener(`${eventName}.delegateEvents${this.cid}`, listener);\n      //}\n    }\n    //this._el.removeEventListener(`${eventName}.delegateEvents${this.cid}`, selector, listener);\n    return this;\n  };\n\n  // Produces a DOM element to be assigned to your view. Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _createElement(tagName) {\n    return document.createElement(tagName);\n  };\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through querySelector, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `style` and `tagName` properties.\n  _ensureElement() {\n    if (!this._el) {\n      const attrs = extend({}, result(this, \"attributes\"));\n      if (this.id) {\n        attrs.id = this.id;\n      }\n      if (this._style) {\n        attrs[\"class\"] = this._style;\n      }\n      const el = this._createElement(this.tagName);\n      const body = document.querySelector(\"body\");\n      if (body) {\n        //console.debug(\"creating element \" + this.tagName + \" on body.\")\n        body.appendChild(el);\n      }\n      if (el) {\n        this.setElement(el);\n      }\n      this._setAttributes(attrs);\n    } else {\n      this.setElement(this._el);\n    }\n  };\n\n  // Set attributes from a hash on this view's element.  Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _setAttributes(attributes) {\n    let key;\n    for(key in attributes) {\n      if (this._el) {\n        let el = this._el;\n        if (isString(this._el)) {\n          el = document.querySelector(this._el);\n        }\n        if (el) {\n          el.setAttribute(key, attributes[key]);\n        }\n      }\n    }\n  };\n\n  /**\n  * The name of the view\n  * @property name The name of the view\n  */\n  set name(name) {\n    this._name = name;\n  };\n\n  get name() {\n    return this._name;\n  };\n\n  /**\n   * Adds a permission to the view\n   * @param {string} permission The permission to add\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   */\n  addPermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.push(permission);\n    }\n  };\n  /**\n   * Removes a permission to the view\n   * @param {string} permission The permission to remove\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   */\n  removePermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.splice((p.indexOf(permission)), 1);\n    }\n  };\n  /**\n   * Sets the permissions to the view\n   * @param {array} permissions The permissions to set\n   * @param {boolean} negative Flag to set a negative permission (optional)\n   */\n  set permissions(permissions) {\n    /*if (!negative) {\n      negative = false;\n    }\n    if (permissions !== null && Array.isArray(permissions)) {\n      if (negative) {\n        this._permissions.exclude = permissions;\n      } else {\n        this._permissions.include = permissions;\n      }\n    }*/\n    this._permissions = permissions;\n  };\n\n\n  /**\n   * The permissions to the view<br/>\n   * Return format:<br/>\n   * <pre>{\n   *     include: [],\n   *     exclude: []\n   * }</pre>\n   *\n   * @property {object} permissions\n   */\n  get permissions() {\n    return this._permissions;\n  };\n  /**\n   * Clears the permissions in the view\n   */\n  clearPermissions() {\n    this._permissions = {\n      include: [],\n      exclude: []\n    };\n  };\n  /**\n   * Matches a permission in the view\n   * @param {string} match The permissions to match\n   * @param {boolean} negative Flag to set a nagative permission (optional)\n   * @returns {boolean} Returns true if the match exists\n   */\n  matchesPermission(match, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    const p = (negative) ? this._permissions.exclude : this._permissions.include;\n    return (p.indexOf(match) !== -1);\n  };\n  /**\n   * Callback to return if this view can display\n   * @returns {boolean} Returns true if this view can display\n   */\n  canDisplay() {\n    return true;\n  };\n};\n\nexport default AbstractView;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;"],"sourceRoot":""}