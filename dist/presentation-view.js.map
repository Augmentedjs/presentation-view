{"version":3,"sources":["webpack://presentation-view/webpack/universalModuleDefinition","webpack://presentation-view/webpack/bootstrap","webpack://presentation-view/external {\"commonjs\":\"augmentedjs-next\",\"commonjs2\":\"augmentedjs-next\",\"amd\":\"augmentedjs-next\",\"root\":\"Augmented\"}","webpack://presentation-view/./src/index.js","webpack://presentation-view/./src/view.js","webpack://presentation-view/./src/abstractView.js","webpack://presentation-view/external {\"commonjs\":\"lodash.bind\",\"commonjs2\":\"lodash.bind\",\"amd\":\"lodash.bind\",\"root\":\"lodash.bind\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__4__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","View","Augmented","AbstractView","default","constructor","super","options","render","_el","template","el","document","remove","undelegateEvents","off","stopListening","_bind","DELEGATE_EVENT_SPLITTER","_name","permissions","_permissions","include","exclude","tagName","model","collection","id","className","_style","style","attributes","cid","_ensureElement","initialize","init","beforeRender","afterRender","_removeElement","setElement","element","delegateEvents","events","method","match","delegate","matchesNL","selector","matches","Array","length","new_el","parentNode","undelegate","_createElement","attrs","body","_setAttributes","addPermission","negative","permission","removePermission","clearPermissions","matchesPermission","canDisplay"],"mappings":"CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,EAAAG,QAAA,oBAAAA,QAAA,gBACA,mBAAAC,eAAAC,IACAD,OAAA,uDAAAJ,GACA,iBAAAC,QACAA,QAAA,qBAAAD,EAAAG,QAAA,oBAAAA,QAAA,gBAEAJ,EAAA,qBAAAC,EAAAD,EAAA,UAAAA,EAAA,gBARA,CASCO,KAAA,SAAAC,EAAAC,GACD,mBCTA,IAAAC,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAV,QAGA,IAAAC,EAAAO,EAAAE,IACAC,EAAAD,EACAE,GAAA,EACAZ,YAUA,OANAa,EAAAH,GAAAI,KAAAb,EAAAD,QAAAC,IAAAD,QAAAS,GAGAR,EAAAW,GAAA,EAGAX,EAAAD,QA0DA,OArDAS,EAAAM,EAAAF,EAGAJ,EAAAO,EAAAR,EAGAC,EAAAQ,EAAA,SAAAjB,EAAAkB,EAAAC,GACAV,EAAAW,EAAApB,EAAAkB,IACAG,OAAAC,eAAAtB,EAAAkB,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CV,EAAAgB,EAAA,SAAAzB,GACA,oBAAA0B,eAAAC,aACAN,OAAAC,eAAAtB,EAAA0B,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAtB,EAAA,cAAiD4B,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAQ,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAnC,GACA,IAAAkB,EAAAlB,KAAA8B,WACA,WAA2B,OAAA9B,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAQ,EAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD7B,EAAAgC,EAAA,SAIAhC,IAAAiC,EAAA,mBClFAzC,EAAAD,QAAAM,gCCAA,wDAAAG,EAAA,IAEAR,eAAsB0C,EAAtB1C,uFCFA,wDAAAQ,EAAA,IACamC,0JAAbnC,EAAA,4BAOmBoC,EAAnBC,QACEC,eACEC,MAAAC,GAOFC,SACE,GAAI7C,KAAA8C,KAAY9C,KAAhB+C,SAA+B,CAC7B,IAAIC,EAAKhD,KAAT8C,IACIP,WAAmBvC,KAAvB8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,IACEA,YAAehD,KAAfgD,UAGJ,OAAAhD,KAOFkD,SAKE,GAHAlD,KAAAmD,mBACAnD,KAAAoD,MACApD,KAAAqD,gBACIrD,KAAJ8C,IAAc,CACZ,IAAIE,EAAKhD,KAAT8C,IACIP,WAAmBvC,KAAvB8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,IACEA,gBAGJ,OAAAhD,sFChDJ,IAAYuC,0JAAZnC,EAAA,IACA,MAAMkD,EAAQlD,EAAd,GAGMmD,EAAN,yCAM2BhB,EAA3BvB,OACE0B,eACEC,MAAAC,GACIA,GAAWA,EAAf/B,KACEb,KAAAwD,MAAaZ,EAAb/B,KAEAb,KAAAwD,MAAA,WAEEZ,GAAWA,EAAfa,YACEzD,KAAA0D,aAAoBd,EAApBa,YAEAzD,KAAA0D,cACEC,WACAC,YAGAhB,GAAWA,EAAfiB,QACE7D,KAAA6D,QAAejB,EAAfiB,QAEA7D,KAAA6D,QAAA,MAEEjB,GAAWA,EAAfI,GACEhD,KAAA8C,IAAWF,EAAXI,GAEAhD,KAAA8C,IAAA,GAGEF,GAAWA,EAAfkB,MACE9D,KAAA8D,MAAalB,EAAbkB,MAEA9D,KAAA8D,MAAA,KAGElB,GAAWA,EAAfmB,WACE/D,KAAA+D,WAAkBnB,EAAlBmB,WAEA/D,KAAA+D,WAAA,KAGEnB,GAAWA,EAAfoB,GACEhE,KAAAgE,GAAUpB,EAAVoB,GAEAhE,KAAAgE,GAAA,EAGEpB,GAAWA,EAAfqB,UACEjE,KAAAkE,OAActB,EAAdqB,UAEAjE,KAAAkE,OAAA,GAGEtB,GAAWA,EAAfuB,MACEnE,KAAAkE,OAActB,EAAduB,MAEAnE,KAAAkE,OAAA,GAGEtB,GAAWA,EAAfwB,WACEpE,KAAAoE,WAAkBxB,EAAlBwB,WAEApE,KAAAoE,cAGFpE,KAAAqE,IAAW9B,mBAAX,QAGAvC,KAAAsE,iBAQI1B,GAAWA,EAAfG,SACE/C,KAAA+C,SAAgBH,EAAhBG,SAEA/C,KAAA+C,SAAA,GAEF/C,KAAAuE,WAAA3B,GAeDI,SACE,OAAOhD,KAAP8C,IAGFE,UACEhD,KAAA8C,IAAAE,EAOHwB,SAOAD,cAGE,OAFAvE,KAAA4C,UACA5C,KAAAwE,KAAA5B,GACA5C,KAMFyE,eACE,OAAAzE,KAMF6C,SACE,OAAA7C,KAMF0E,cACE,OAAA1E,KAOFkD,SAGE,OAFAlD,KAAA2E,iBACA3E,KAAAqD,gBACArD,KAMF2E,iBACE,IAAI3B,EAAKhD,KAAT8C,IACI9C,KAAA8C,KAAYP,WAAmBvC,KAAnC8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,IACEA,gBAQJ4B,cAKE,OAHA5E,KAAAmD,mBACAnD,KAAA8C,IAAA+B,EACA7E,KAAA8E,iBACA9E,KAuBF8E,kBAEE,GADAC,IAAWA,EAASxC,cAApBwC,YACAA,EACE,OAAA/E,KAGF,IAAA6B,EACA,IAAAA,KAFA7B,KAAAmD,mBAEA4B,EAAoB,CAClB,IAAIC,EAASD,EAAblD,GAIA,GAHKU,aAALyC,KACEA,EAAShF,KAATgF,KAEFA,EACE,SAEF,MAAMC,EAAQpD,QAAd0B,GACAvD,KAAAkF,SAAcD,EAAd,GAAwBA,EAAxB,GAAkC3B,IAAlCtD,OAEF,OAAAA,KAQFkF,gBACE,MAAMC,EAAYlC,0BAAlBmC,GACA,GAAAD,EAAe,CACb,MAAME,EAAUC,WAAhBH,GACA,IAAI7E,EAAJ,EACA,MAAMC,EAAI8E,EAAVE,OACA,IAAKjF,EAAL,EAAYA,EAAZC,EAAAD,IAEE+E,2BAGJ,OAAArF,KAQFmD,mBAEE,GAAInD,KAAJ8C,IAAc,CAEZ,IAAIE,EAAKhD,KAAT8C,IAIA,GAHIP,WAAmBvC,KAAvB8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,EAAQ,CAEN,MAAMwC,EAASxC,aAFT,GAKFwC,GAAUA,EAAdC,YAEEzC,gCAMN,OAAAhD,KAOF0F,kBACE,GAAI1F,KAAJ8C,IAAc,CACZ,IAAIE,EAAKhD,KAAT8C,IAIA,GAHIP,WAAmBvC,KAAvB8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,EAAQ,CACN,MAAMmC,EAAYnC,mBAAlBoC,GACA,GAAAD,EAAe,CACb,MAAME,EAAUC,WAAhBH,GACA,IAAI7E,EAAJ,EACA,MAAMC,EAAI8E,EAAVE,OAEA,IAAKjF,EAAL,EAAYA,EAAZC,EAAAD,IAEE+E,gCAUR,OAAArF,KAKF2F,kBACE,OAAO1C,uBAAPY,GAOFS,iBACE,GAAKtE,KAALgD,GAkBEhD,KAAA4E,WAAgB5E,KAAhB8C,SAlBY,CACZ,MAAM8C,EAAQrD,oBAA6BA,cAA3C,eACIvC,KAAJgE,KACE4B,KAAW5F,KAAX4F,IAEE5F,KAAJkE,SACE0B,QAAiB5F,KAAjB4F,QAEF,MAAM5C,EAAKhD,KAAA2F,eAAoB3F,KAA/B6D,SACMgC,EAAO5C,uBAAb,QACA4C,GACEA,iBAEF7C,GACEhD,KAAA4E,WAAA5B,GAEFhD,KAAA8F,eAAAF,IAQJE,kBACE,IAAAjE,EACA,IAAAA,KAAAuC,EACE,GAAIpE,KAAJ8C,IAAc,CACZ,IAAIE,EAAKhD,KAAT8C,IACIP,WAAmBvC,KAAvB8C,OACEE,EAAKC,uBAAuBjD,KAA5BgD,MAEFA,GACEA,iBAAqBoB,EAArBpB,KAURnC,YACEb,KAAAwD,MAAA3C,EAMFA,WACE,OAAOb,KAAPwD,MAQFuC,mBACEC,IACEA,MAEEC,UAAwBX,cAA5BW,KACYD,EAAahG,KAAA0D,aAAbE,QAAyC5D,KAAA0D,aAAnDC,SACAvB,QAQJ8D,sBAIE,GAHAF,IACEA,MAEEC,WAAwBX,cAA5BW,GAAuD,CACrD,MAAM7D,EAAI4D,EAAahG,KAAA0D,aAAbE,QAAyC5D,KAAA0D,aAAnDC,QACAvB,SAAUA,UAAVA,OAQJqB,mBAWEzD,KAAA0D,aAAAD,EAcFA,kBACE,OAAOzD,KAAP0D,aAKFyC,mBACEnG,KAAA0D,cACEC,WACAC,YASJwC,uBAKE,OAJAJ,IACEA,OAGF,KADUA,EAAahG,KAAA0D,aAAbE,QAAyC5D,KAAA0D,aAAnDC,SACQvB,WAMViE,aACE,0BC3cJzG,EAAAD,QAAAO","file":"presentation-view.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"augmentedjs-next\"), require(\"lodash.bind\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-view\", [\"augmentedjs-next\", \"lodash.bind\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-view\"] = factory(require(\"augmentedjs-next\"), require(\"lodash.bind\"));\n\telse\n\t\troot[\"presentation-view\"] = factory(root[\"Augmented\"], root[\"lodash.bind\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__4__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import View from \"./view.js\";\n\nmodule.exports.View = View;\n","import AbstractView from \"./abstractView.js\";\nimport * as  Augmented from \"augmentedjs-next\";\n\n/**\n * Aubstract View - the base view for handlng display in the MV* Concept\n * @name View\n * @extends Presentation.AbstractView\n */\nclass View extends AbstractView {\n  constructor(options) {\n    super(options);\n  };\n\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    if (this._el && this.template) {\n      let el = this._el;\n      if (Augmented.isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = this.template;\n      }\n    }\n    return this;\n  };\n\n  /**\n  * Remove the table and all binds\n  * @memberof View\n  */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n    if (this._el) {\n      let el = this._el;\n      if (Augmented.isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        el.innerHTML = \"\";\n      }\n    }\n    return this;\n  }\n};\n\nexport default View;\n","import * as Augmented from \"augmentedjs-next\";\nconst _bind = require(\"lodash.bind\");\n\n// Cached regex to split keys for `delegate`.\nconst DELEGATE_EVENT_SPLITTER = /^(\\S+)\\s*(.*)$/;\n\n/**\n * Aubstract View - the base view for handlng display in the MV* Concept\n * @extends Augmented.Object\n */\nclass AbstractView extends Augmented.Object {\n  constructor(options) {\n    super(options);\n    if (options && options.name) {\n      this._name = options.name;\n    } else {\n      this._name = \"Untitled\";\n    }\n    if (options && options.permissions) {\n      this._permissions = options.permissions;\n    } else {\n      this._permissions = {\n        include: [],\n        exclude: []\n      };\n    }\n    if (options && options.tagName) {\n      this.tagName = options.tagName;\n    } else {\n      this.tagName = \"div\";\n    }\n    if (options && options.el) {\n      this._el = options.el;\n    } else {\n      this._el = \"\";\n    }\n\n    if (options && options.model) {\n      this.model = options.model;\n    } else {\n      this.model = null;\n    }\n\n    if (options && options.collection) {\n      this.collection = options.collection;\n    } else {\n      this.collection = null;\n    }\n\n    if (options && options.id) {\n      this.id = options.id;\n    } else {\n      this.id = 0;\n    }\n\n    if (options && options.className) {\n      this._style = options.className;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.style) {\n      this._style = options.style;\n    } else {\n      this._style = \"\";\n    }\n\n    if (options && options.attributes) {\n      this.attributes = options.attributes;\n    } else {\n      this.attributes = {};\n    }\n\n    this.cid = Augmented.Utility.uniqueId(\"view\");\n    //Augmented.Utility.extend(this, _pick(options, VIEW_OPTIONS));\n\n    this._ensureElement();\n\n    /*this.render = Augmented.Utility.wrap(this.render, (render) => {\n      this.beforeRender();\n      render.apply(this);\n      this.afterRender();\n      return this;\n    });*/\n    if (options && options.template) {\n      this.template = options.template;\n    } else {\n      this.template = \"\";\n    }\n    this.initialize(options);\n  };\n\n  /**\n   * The name property of the view\n   * @property {string} name The Name of the view\n   * @private\n   */\n\n  /**\n   * Permissions in the view\n   * @property permissions\n   * @private\n   */\n\n   get el() {\n     return this._el;\n   };\n\n   set el(el) {\n     this._el = el;\n   };\n\n  /**\n   * Custom initialize - Override for custom code\n   * @param {object} options Optional options to pass to the view\n   */\n  init(options) {\n  };\n  /**\n   * Initializes the view - <em>Note: Do not override, use init instead!</em>\n   * @param {object} options Optional options to pass to the view\n   * @returns {View} Returns 'this,' as in, this view context\n   */\n  initialize(options) {\n    this.options = options;\n    this.init(options);\n    return this;\n  };\n  /**\n   * Before Render callback for the view\n   * @returns this Context of the view\n   */\n  beforeRender() {\n    return this;\n  };\n  /**\n   * Render callback for the view\n   * @returns this Context of the view\n   */\n  render() {\n    return this;\n  };\n  /**\n   * After Render callback for the view\n   * @returns this Context of the view\n   */\n  afterRender() {\n    return this;\n  };\n\n  /**\n   * Remove this view by taking the element out of the DOM, and removing any\n   * applicable Events listeners.\n   */\n  remove() {\n    this._removeElement();\n    this.stopListening();\n    return this;\n  };\n\n  // Remove this view's element from the document and all event listeners\n  // attached to it. Exposed for subclasses using an alternative DOM\n  // manipulation API.\n  _removeElement() {\n    let el = this._el;\n    if (this._el && Augmented.isString(this._el)) {\n      el = document.querySelector(this._el);\n    }\n    if (el) {\n      el.innerHTML = \"\";\n    }\n  };\n\n  /**\n   * Change the view's element (`this.el` property) and re-delegate the\n   * view's events on the new element.\n   */\n  setElement(element) {\n    //console.log(\"setting element\", element);\n    this.undelegateEvents();\n    this._el = element;\n    this.delegateEvents();\n    return this;\n  };\n\n  /**\n   * Creates the `this.el` and `this.$el` references for this view using the\n   * given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n   * context or an element. Subclasses can override this to utilize an\n   * alternative DOM manipulation API and are only required to set the\n   * `this.el` property.\n   *\n   * Set callbacks, where `this.events` is a hash of\n   * pairs. Callbacks will be bound to the view, with `this` set properly.\n   * Uses event delegation for efficiency.\n   * Omitting the selector binds the event to `this._el`.\n   * @example\n   * {\"event selector\": \"callback\"}\n   * @example\n   * {\n   *   'mousedown .title':  'edit',\n   *   'click .button':     'save',\n   *   'click .open':       (e) => { ... }\n   * }\n   */\n  delegateEvents(events) {\n    events || (events = Augmented.result(this, \"events\"));\n    if (!events) {\n      return this;\n    }\n    this.undelegateEvents();\n    let key;\n    for (key in events) {\n      let method = events[key];\n      if (!Augmented.isFunction(method)) {\n        method = this[method];\n      }\n      if (!method) {\n        continue;\n      }\n      const match = key.match(DELEGATE_EVENT_SPLITTER);\n      this.delegate(match[1], match[2], _bind(method, this));\n    }\n    return this;\n  };\n\n  /**\n   * Add a single event listener to the view's element (or a child element\n   * using `selector`). This only works for delegate-able events: not `focus`,\n   * `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n   */\n  delegate(eventName, selector, listener) {\n    const matchesNL = document.querySelectorAll(selector);\n    if (matchesNL) {\n      const matches = Array.from(matchesNL);\n      let i = 0;\n      const l = matches.length;\n      for (i = 0; i < l; i++) {\n        ////console.log(\"match\", matches[i]);\n        matches[i].addEventListener(eventName, listener);\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Clears all callbacks previously bound to the view by `delegateEvents`.\n   * You usually don't need to use this, but may wish to if you have multiple\n   * views attached to the same DOM element.\n   */\n  undelegateEvents() {\n    ////console.log(\"undelegateEvents\");\n    if (this._el) {\n      ////console.log(\"undelegateEvents el\", this._el);\n      let el = this._el;\n      if (Augmented.isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        ////console.log(\"undelegateEvents selected el\", el);\n        const new_el = el.cloneNode(true); //true means a deep copy\n\n        //console.log(\"undelegateEvents cloned el\", new_el);\n        if (new_el && new_el.parentNode) {\n          //console.log(\"undelegateEvents parent el\", new_el.parentNode);\n          el.parentNode.replaceChild(new_el, el);\n          //console.log(\"undelegateEvents replaced el\");\n        }\n      }\n      //this._el.removeEventListener(`.delegateEvents${this.cid}`);\n    }\n    return this;\n  };\n\n  /**\n   * A finer-grained `undelegateEvents` for removing a single delegated event.\n   * `selector` and `listener` are both optional.\n   */\n  undelegate(eventName, selector, listener) {\n    if (this._el) {\n      let el = this._el;\n      if (Augmented.isString(this._el)) {\n        el = document.querySelector(this._el);\n      }\n      if (el) {\n        const matchesNL = el.querySelectorAll(selector);\n        if (matchesNL) {\n          const matches = Array.from(matchesNL);\n          let i = 0;\n          const l = matches.length;\n\n          for (i = 0; i < l; i++) {\n            ////console.log(\"match\", matches[i]);\n            matches[i].removeEventListener(eventName, listener);\n          }\n        }\n      }\n\n      //for (i = 0; i < l; i++) {\n      //  matches[i].removeEventListener(`${eventName}.delegateEvents${this.cid}`, listener);\n      //}\n    }\n    //this._el.removeEventListener(`${eventName}.delegateEvents${this.cid}`, selector, listener);\n    return this;\n  };\n\n  // Produces a DOM element to be assigned to your view. Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _createElement(tagName) {\n    return document.createElement(tagName);\n  };\n\n  // Ensure that the View has a DOM element to render into.\n  // If `this.el` is a string, pass it through `$()`, take the first\n  // matching element, and re-assign it to `el`. Otherwise, create\n  // an element from the `id`, `style` and `tagName` properties.\n  _ensureElement() {\n    if (!this.el) {\n      const attrs = Augmented.Utility.extend({}, Augmented.result(this, \"attributes\"));\n      if (this.id) {\n        attrs.id = this.id;\n      }\n      if (this._style) {\n        attrs[\"class\"] = this._style;\n      }\n      const el = this._createElement(this.tagName);\n      const body = document.querySelector(\"body\");\n      if (body) {\n        body.appendChild(el);\n      }\n      if (el) {\n        this.setElement(el);\n      }\n      this._setAttributes(attrs);\n    } else {\n      this.setElement(this._el);\n    }\n  };\n\n  // Set attributes from a hash on this view's element.  Exposed for\n  // subclasses using an alternative DOM manipulation API.\n  _setAttributes(attributes) {\n    let key;\n    for(key in attributes) {\n      if (this._el) {\n        let el = this._el;\n        if (Augmented.isString(this._el)) {\n          el = document.querySelector(this._el);\n        }\n        if (el) {\n          el.setAttribute(key, attributes[key]);\n        }\n      }\n    }\n  };\n\n  /**\n  * Sets the name of the view\n  * @param {string} name The name of the view\n  */\n  set name(name) {\n    this._name = name;\n  };\n  /**\n  * Gets the name of the view\n  * @returns {string} Returns the name of the view\n  */\n  get name() {\n    return this._name;\n  };\n\n  /**\n  * Adds a permission to the view\n  * @param {string} permission The permission to add\n  * @param {boolean} negative Flag to set a nagative permission (optional)\n  */\n  addPermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.push(permission);\n    }\n  };\n  /**\n  * Removes a permission to the view\n  * @param {string} permission The permission to remove\n  * @param {boolean} negative Flag to set a nagative permission (optional)\n  */\n  removePermission(permission, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    if (permission !== null && !Array.isArray(permission)) {\n      const p = (negative) ? this._permissions.exclude : this._permissions.include;\n      p.splice((p.indexOf(permission)), 1);\n    }\n  };\n  /**\n  * Sets the permissions to the view\n  * @param {array} permissions The permissions to set\n  * @param {boolean} negative Flag to set a nagative permission (optional)\n  */\n  set permissions(permissions) {\n    /*if (!negative) {\n      negative = false;\n    }\n    if (permissions !== null && Array.isArray(permissions)) {\n      if (negative) {\n        this._permissions.exclude = permissions;\n      } else {\n        this._permissions.include = permissions;\n      }\n    }*/\n    this._permissions = permissions;\n  };\n\n\n  /**\n  * Gets the permissions to the view<br/>\n  * Return format:<br/>\n  * <pre>{\n  *     include: [],\n  *     exclude: []\n  * }</pre>\n  *\n  * @returns {object} The permissions in the view\n  */\n  get permissions() {\n    return this._permissions;\n  };\n  /**\n  * Clears the permissions in the view\n  */\n  clearPermissions() {\n    this._permissions = {\n      include: [],\n      exclude: []\n    };\n  };\n  /**\n  * Matches a permission in the view\n  * @param {string} match The permissions to match\n  * @param {boolean} negative Flag to set a nagative permission (optional)\n  * @returns {boolean} Returns true if the match exists\n  */\n  matchesPermission(match, negative) {\n    if (!negative) {\n      negative = false;\n    }\n    const p = (negative) ? this._permissions.exclude : this._permissions.include;\n    return (p.indexOf(match) !== -1);\n  };\n  /**\n  * Callback to return if this view can display\n  * @returns {boolean} Returns true if this view can display\n  */\n  canDisplay() {\n    return true;\n  };\n};\n\nexport default AbstractView;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;"],"sourceRoot":""}